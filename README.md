# ShareFile  
---


ShareFile — это веб-приложение для обмена файлами. Оно позволяет зарегистрированным пользователям загружать файлы, генерировать защищённые ссылки для скачивания с возможностью установки PIN-кода и лимита скачиваний.

---

## Структура проекта

```
ShareFile/
├── app.py                 — точка входа, инициализация приложения
├── config.py              — настройки приложения
├── database.py            — работа с базой данных SQLite
├── utils.py               — вспомогательные функции (транслитерация, безопасные имена)
├── uploads/               — загруженные файлы (создаётся автоматически)
├── static/
│   └── style.css          — стили интерфейса
└── templates/
    ├── base.html          — базовый шаблон
    ├── login.html         — страница входа
    ├── register.html      — страница регистрации
    ├── dashboard.html     — панель управления пользователя
    ├── enter_pin.html     — форма ввода PIN-кода для скачивания
    └── admin.html         — админ-панель
```

---

## Основные возможности

- Система регистрации и аутентификации пользователей
- Загрузка файлов любых типов
- Настройка лимита скачиваний (от 1 до 100 на одну ссылку)
- Защита скачивания PIN-кодом
- Автоматическое удаление файла после исчерпания лимита
- Ручное удаление файлов через панель управления
- Адаптивный интерфейс с внутренней прокруткой списка файлов

---

## Системные требования

- Python 3.7 или выше
- Flask 2.0 или выше
- Стандартные библиотеки Python (`os`, `sqlite3`, `secrets`, `mimetypes`, `io`, `re`)
- Минимум 100 МБ свободного места на диске

---

## Установка

1. Скопируйте все файлы приложения в рабочую директорию на сервере  
2. Убедитесь, что установлены Python и pip  
3. При необходимости установите Flask:
   ```bash
   pip install Flask
   ```
4. Дополнительная настройка не требуется — база данных создаётся автоматически при первом запуске

---

## Использование

### Запуск сервера
Выполните в терминале:
```bash
python app.py
```

### Работа с приложением
1. Откройте веб-браузер и перейдите на адрес сервера
2. Зарегистрируйте аккаунт или войдите в систему  
3. В панели управления:
   - Загрузите файл
   - Укажите PIN-код (минимум 4 символа)
   - Установите лимит скачиваний (1–100)
   - При необходимости включите автоматическое удаление
   - Получите ссылку для отправки получателю

После скачивания файла по ссылке с вводом верного PIN-кода счётчик загрузок увеличивается. При достижении лимита файл удаляется (если включено автоудаление), а запись исчезает из списка.

---

## Управление файлами

- Загруженные файлы сохраняются в папке `uploads/`
- Метаданные и учётные записи хранятся в файле `files.db` (SQLite)
- Для полного сброса системы удалите `files.db` и папку `uploads/`
